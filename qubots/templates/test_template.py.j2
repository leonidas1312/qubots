"""
Test suite for {{ name }}
Generated by Qubots Template Generator
"""

import unittest
import numpy as np
from qubot import {{ class_name }}


class Test{{ class_name }}(unittest.TestCase):
    """Test cases for {{ class_name }}."""

    def setUp(self):
        """Set up test fixtures."""
        self.{{ component_type }} = {{ class_name }}()

    def test_initialization(self):
        """Test {{ component_type }} initialization."""
        self.assertIsNotNone(self.{{ component_type }})
        self.assertIsNotNone(self.{{ component_type }}.metadata)

    {% if component_type == "problem" %}
    def test_random_solution(self):
        """Test random solution generation."""
        solution = self.{{ component_type }}.random_solution()
        self.assertIsNotNone(solution)

    def test_evaluate_solution(self):
        """Test solution evaluation."""
        solution = self.{{ component_type }}.random_solution()
        value = self.{{ component_type }}.evaluate_solution(solution)
        self.assertIsInstance(value, (int, float))

    def test_feasibility_check(self):
        """Test feasibility checking."""
        solution = self.{{ component_type }}.random_solution()
        feasible = self.{{ component_type }}.is_feasible(solution)
        self.assertIsInstance(feasible, bool)
    {% endif %}

    {% if component_type == "optimizer" %}
    def test_optimization(self):
        """Test optimization process."""
        # Create a simple test problem
        from qubots.examples import SimpleTestProblem
        problem = SimpleTestProblem()

        result = self.{{ component_type }}.optimize(problem)
        self.assertIsNotNone(result)
        self.assertIsNotNone(result.best_solution)
        self.assertIsNotNone(result.best_value)
    {% endif %}

    def test_metadata(self):
        """Test metadata properties."""
        metadata = self.{{ component_type }}.metadata
        self.assertEqual(metadata.name, "{{ name }}")
        self.assertIsInstance(metadata.description, str)


if __name__ == "__main__":
    unittest.main()
